{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "Demo.svelte",
    "Icon.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { onMount } from \"svelte\";\n  // import { LayerCake, Svg } from \"layercake\";\n  import random from \"../../utils/random\";\n  import aVsAn from \"../../utils/aVsAn\";\n  import Icon from \"../helpers/Icon.svelte\";\n  import prompts from \"../../data/prompts.json\";\n  import madLibs from \"../../data/madLibs.json\";\n  import examples from \"../../data/examples.json\";\n\n  let index, lib, libPrompts, title;\n\n  let currentInput = 0,\n    currentPromptIndex = 0,\n    exampleIndex = 0;\n\n  async function getLib() {\n    let formattedPrompts = [];\n\n    prompts.forEach(d => {\n      formattedPrompts.push(`<::${d.type}/>`);\n    });\n\n    index = random(0, madLibs.length);\n    exampleIndex = random(0, 3);\n    lib = formatLib(madLibs[index].text);\n    libPrompts = getPrompts(lib);\n\n    title = madLibs[index].title;\n\n    function formatLib(text) {\n      const wrds = text.split(/([ ,.\"]+)/),\n        formattedWrds = [];\n\n      wrds.forEach((d, i) => {\n        const text = d,\n          index = i,\n          prompt = formattedPrompts.indexOf(d) > -1,\n          promptType = prompt ? prompts.find(s => s.type === d.replace(\"<::\", \"\").replace(\"/>\", \"\")).type : null,\n          promptDesc = prompt ? prompts.find(s => s.type === d.replace(\"<::\", \"\").replace(\"/>\", \"\")).description : null,\n          value = null;\n\n        formattedWrds.push({ text, index, prompt, promptType, promptDesc, value });\n      })\n\n      return formattedWrds;\n    }\n\n    function getPrompts(wrds) {\n      const thesePrompts = [];\n\n      wrds.forEach((d, i) => {\n        if (d.prompt) {\n          const type = d.promptType,\n            desc = d.promptDesc,\n            index = d.index,\n            lead = aVsAn(d.promptDesc);\n\n          thesePrompts.push({ type, desc, lead, index });\n        }\n      });\n\n      thesePrompts.forEach((d, i) => {\n        d.i = i;\n        d.lead = i > 0 && thesePrompts[i - 1].desc === d.desc ? \"another\" : d.lead;\n      })\n\n      currentPromptIndex = thesePrompts[currentInput].index;\n\n      return thesePrompts;\n    }\n  }\n\n  let promise = getLib();\n\n  const handleEnter = () => {\n\n    if (!document.getElementById(`prompt-input-${currentInput}`).getElementsByTagName(\"input\")[0].value) {\n      lib[libPrompts[currentInput].index].value = examples[libPrompts[currentInput].type][exampleIndex];\n    }\n\n    if (currentInput < libPrompts.length) {\n      currentInput += 1;\n      currentPromptIndex = libPrompts[currentInput] ? libPrompts[currentInput].index : currentPromptIndex;\n    }\n\n    lib = findVowels(lib);\n    exampleIndex = random(0, 3);\n  }\n\n  function findVowels(wrds) {\n    wrds.forEach((d, i) => {\n      d.text = d.text === \"a/an\" ? aVsAn(wrds[i + 1].value || \"sam\") : d.text;\n    })\n\n    return wrds;\n  }\n\n</script>\n\n<section id=\"demo\">\n  <div>\n    <h1>Let&rsquo;s play mad libs!</h1>\n    <p><Icon name=\"help-circle\" /> Follow the prompts and enter an appropriate word (or use the example) to form a story.</p>\n  </div>\n\n  {#await promise}\n\n    <p>Loading...</p>\n\n  {:then}\n\n    {#each libPrompts as prompt, i (prompt.i)}\n      <div class:isvisible=\"{i === currentInput}\" class=\"input-container\" id=\"prompt-input-{prompt.i}\">\n        {#if i === 0}\n          <p>First, we need {prompt.lead} {prompt.desc}</p>\n        {:else if i === libPrompts.length - 1}\n          <p>And lastly, {prompt.lead} {prompt.desc}</p>\n        {:else}\n          <p>Okay, now {prompt.lead} {prompt.desc}</p>\n        {/if}\n        <form on:submit|preventDefault={handleEnter}>\n          <input bind:value={lib[prompt.index].value} placeholder=\"like {examples[prompt.type][exampleIndex]}...\" type=\"text\" class={prompt.type} />\n        </form>\n      </div>\n    {/each}\n\n    <div class:isvisible=\"{currentInput === libPrompts.length}\" class=\"title\">\n      <h2>{title}</h2>\n    </div>\n\n    <div>\n      {#each lib as word, i (word.index)}\n        {#if !word.prompt}\n          <div class:isvisible=\"{currentInput === libPrompts.length}\" class=\"word\" id=\"word-{word.index}\">\n            <span class=\"inner\">\n              {word.text}\n            </span>\n          </div>\n        {:else}\n          <div class:isactive=\"{word.index === currentPromptIndex && currentInput < libPrompts.length}\" class=\"prompt {word.promptType}\" id=\"prompt-{word.index}\">\n            <span class=\"inner\">\n              {word.value || \"  \"}\n            </span>\n          </div>\n        {/if}\n      {/each}\n    </div>\n  {/await}\n\n  <div>\n    <p>Made by <a href=\"http://samvickars.com\">Sam</a>, using the Pudding&rsquo;s <a href=\"https://github.com/the-pudding/svelte-starter\">Svelte starter</a> and Microsoft's <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=55593\">Dataset for Fill-in-the-Blank Humor</a>.</p>\n  </div>\n</section>\n\n<style>\n  section {\n    margin: 0 auto;\n    padding: 1rem;\n    width: 100%;\n    max-width: 640px;\n  }\n\n  div {\n    margin-bottom: 2rem;\n  }\n\n  h1 {\n    font-weight: 700;\n  }\n\n  input {\n    text-align: center;\n    border: none;\n    border-bottom: 2px solid yellow;\n    border-radius: 0;\n    background-color: #efefef;\n    color: #121212 !important;\n  }\n\n  input:focus {\n    box-shadow: none;\n    background-color: #dedede;\n  }\n\n  span {\n  }\n\n  .title {\n    display: none;\n  }\n\n  .title.isvisible {\n    display: block;\n  }\n\n  .input-container {\n    display: none;\n  }\n\n  .input-container.isvisible {\n    display: block;\n  }\n\n  .word {\n    display: inline-flex;\n    align-items: center;\n    margin: 0 4px 8px 0;\n    height: 32px;\n    background-color: rgba(239, 239, 239, 0.5);\n    transition: 250ms;\n  }\n\n  .word .inner {\n    opacity: 0;\n  }\n\n  .word.isvisible {\n    background-color: #fff;\n  }\n\n  .word.isvisible .inner {\n    opacity: 1;\n  }\n\n  .prompt {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0 4px 8px 0;\n    min-width: 64px;\n    border-bottom: 2px solid red;\n    transition: 250ms;\n    font-weight: bold;\n    color: #121212 !important;\n  }\n\n  .prompt.isactive {\n    transform: scale(1.1) translate(0, -8px);\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.05);\n    height: 32px;\n    background-color: white;\n  }\n\n  input.animal, .prompt.animal {\n    color: yellow;\n    border-color: yellow;\n  }\n\n  input.animal_plural, .prompt.animal_plural {\n    color: yellow;\n    border-color: yellow;\n  }\n\n  input.body, .prompt.body {\n    color: orange;\n    border-color: orange;\n  }\n\n  input.body_plural, .prompt.body_plural {\n    color: orange;\n    border-color: orange;\n  }\n\n  input.food, .prompt.food {\n    color: cyan;\n    border-color: cyan;\n  }\n\n  input.food_plural, .prompt.food_plural {\n    color: cyan;\n    border-color: cyan;\n  }\n\n  input.jj, .prompt.jj {\n    color: pink;\n    border-color: pink;\n  }\n\n  input.liquid, .prompt.liquid {\n    color: magenta;\n    border-color: magenta;\n  }\n\n  input.nn, .prompt.nn {\n    color: red;\n    border-color: red;\n  }\n\n  input.nns, .prompt.nns {\n    color: red;\n    border-color: red;\n  }\n\n  input.rb, .prompt.rb {\n    color: purple;\n    border-color: purple;\n  }\n\n  input.vb, .prompt.vb {\n    color: green;\n    border-color: green;\n  }\n\n  input.vbd, .prompt.vbd {\n    color: green;\n    border-color: green;\n  }\n\n  input.vbg, .prompt.vbg {\n    color: green;\n    border-color: green;\n  }\n\n  input.vbn, .prompt.vbn {\n    color: green;\n    border-color: green;\n  }\n\n  input.vbz, .prompt.vbz {\n    color: green;\n    border-color: green;\n  }\n\n  .inner {\n    white-space: nowrap;\n  }</style>\n",
    "<script>\n  import feather from \"feather-icons\";\n  export const directions = [\"n\", \"ne\", \"e\", \"se\", \"s\", \"sw\", \"w\", \"nw\"];\n\n  export let name;\n  export let direction = \"n\";\n  export let strokeWidth;\n  export let stroke;\n\n  $: icon = feather.icons[name];\n  $: rotation = directions.indexOf(direction) * 45;\n  $: if (icon) {\n    if (stroke) icon.attrs[\"stroke\"] = stroke;\n    if (strokeWidth) icon.attrs[\"stroke-width\"] = strokeWidth;\n  }\n</script>\n\n{#if icon}\n  <svg {...icon.attrs} style=\"{`transform: rotate(${rotation}deg);`}\">\n    <g>\n      {@html icon.contents}\n    </g>\n  </svg>\n{/if}\n\n<style>\n  svg {\n    width: 1em;\n    height: 1em;\n    overflow: visible;\n    transform-origin: 50% 50%;\n  }</style>\n"
  ],
  "names": [],
  "mappings": "AA4JE,OAAO,4BAAC,CAAC,AACP,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,OAAO,CAAE,IAAI,CACb,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,KAAK,AAClB,CAAC,AAED,GAAG,4BAAC,CAAC,AACH,aAAa,CAAE,IAAI,AACrB,CAAC,AAED,EAAE,4BAAC,CAAC,AACF,WAAW,CAAE,GAAG,AAClB,CAAC,AAED,KAAK,4BAAC,CAAC,AACL,UAAU,CAAE,MAAM,CAClB,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,MAAM,CAC/B,aAAa,CAAE,CAAC,CAChB,gBAAgB,CAAE,OAAO,CACzB,KAAK,CAAE,OAAO,CAAC,UAAU,AAC3B,CAAC,AAED,iCAAK,MAAM,AAAC,CAAC,AACX,UAAU,CAAE,IAAI,CAChB,gBAAgB,CAAE,OAAO,AAC3B,CAAC,AAKD,MAAM,4BAAC,CAAC,AACN,OAAO,CAAE,IAAI,AACf,CAAC,AAED,MAAM,UAAU,4BAAC,CAAC,AAChB,OAAO,CAAE,KAAK,AAChB,CAAC,AAED,gBAAgB,4BAAC,CAAC,AAChB,OAAO,CAAE,IAAI,AACf,CAAC,AAED,gBAAgB,UAAU,4BAAC,CAAC,AAC1B,OAAO,CAAE,KAAK,AAChB,CAAC,AAED,KAAK,4BAAC,CAAC,AACL,OAAO,CAAE,WAAW,CACpB,WAAW,CAAE,MAAM,CACnB,MAAM,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CACnB,MAAM,CAAE,IAAI,CACZ,gBAAgB,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAC1C,UAAU,CAAE,KAAK,AACnB,CAAC,AAED,mBAAK,CAAC,MAAM,cAAC,CAAC,AACZ,OAAO,CAAE,CAAC,AACZ,CAAC,AAED,KAAK,UAAU,4BAAC,CAAC,AACf,gBAAgB,CAAE,IAAI,AACxB,CAAC,AAED,KAAK,wBAAU,CAAC,MAAM,cAAC,CAAC,AACtB,OAAO,CAAE,CAAC,AACZ,CAAC,AAED,OAAO,4BAAC,CAAC,AACP,OAAO,CAAE,WAAW,CACpB,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,MAAM,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CACnB,SAAS,CAAE,IAAI,CACf,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,GAAG,CAC5B,UAAU,CAAE,KAAK,CACjB,WAAW,CAAE,IAAI,CACjB,KAAK,CAAE,OAAO,CAAC,UAAU,AAC3B,CAAC,AAED,OAAO,SAAS,4BAAC,CAAC,AAChB,SAAS,CAAE,MAAM,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CACxC,UAAU,CAAE,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAC5C,MAAM,CAAE,IAAI,CACZ,gBAAgB,CAAE,KAAK,AACzB,CAAC,AAED,KAAK,mCAAO,CAAE,OAAO,OAAO,4BAAC,CAAC,AAC5B,KAAK,CAAE,MAAM,CACb,YAAY,CAAE,MAAM,AACtB,CAAC,AAED,KAAK,0CAAc,CAAE,OAAO,cAAc,4BAAC,CAAC,AAC1C,KAAK,CAAE,MAAM,CACb,YAAY,CAAE,MAAM,AACtB,CAAC,AAED,KAAK,iCAAK,CAAE,OAAO,KAAK,4BAAC,CAAC,AACxB,KAAK,CAAE,MAAM,CACb,YAAY,CAAE,MAAM,AACtB,CAAC,AAED,KAAK,wCAAY,CAAE,OAAO,YAAY,4BAAC,CAAC,AACtC,KAAK,CAAE,MAAM,CACb,YAAY,CAAE,MAAM,AACtB,CAAC,AAED,KAAK,iCAAK,CAAE,OAAO,KAAK,4BAAC,CAAC,AACxB,KAAK,CAAE,IAAI,CACX,YAAY,CAAE,IAAI,AACpB,CAAC,AAED,KAAK,wCAAY,CAAE,OAAO,YAAY,4BAAC,CAAC,AACtC,KAAK,CAAE,IAAI,CACX,YAAY,CAAE,IAAI,AACpB,CAAC,AAED,KAAK,+BAAG,CAAE,OAAO,GAAG,4BAAC,CAAC,AACpB,KAAK,CAAE,IAAI,CACX,YAAY,CAAE,IAAI,AACpB,CAAC,AAED,KAAK,mCAAO,CAAE,OAAO,OAAO,4BAAC,CAAC,AAC5B,KAAK,CAAE,OAAO,CACd,YAAY,CAAE,OAAO,AACvB,CAAC,AAED,KAAK,+BAAG,CAAE,OAAO,GAAG,4BAAC,CAAC,AACpB,KAAK,CAAE,GAAG,CACV,YAAY,CAAE,GAAG,AACnB,CAAC,AAED,KAAK,gCAAI,CAAE,OAAO,IAAI,4BAAC,CAAC,AACtB,KAAK,CAAE,GAAG,CACV,YAAY,CAAE,GAAG,AACnB,CAAC,AAED,KAAK,+BAAG,CAAE,OAAO,GAAG,4BAAC,CAAC,AACpB,KAAK,CAAE,MAAM,CACb,YAAY,CAAE,MAAM,AACtB,CAAC,AAED,KAAK,+BAAG,CAAE,OAAO,GAAG,4BAAC,CAAC,AACpB,KAAK,CAAE,KAAK,CACZ,YAAY,CAAE,KAAK,AACrB,CAAC,AAED,KAAK,gCAAI,CAAE,OAAO,IAAI,4BAAC,CAAC,AACtB,KAAK,CAAE,KAAK,CACZ,YAAY,CAAE,KAAK,AACrB,CAAC,AAED,KAAK,gCAAI,CAAE,OAAO,IAAI,4BAAC,CAAC,AACtB,KAAK,CAAE,KAAK,CACZ,YAAY,CAAE,KAAK,AACrB,CAAC,AAED,KAAK,gCAAI,CAAE,OAAO,IAAI,4BAAC,CAAC,AACtB,KAAK,CAAE,KAAK,CACZ,YAAY,CAAE,KAAK,AACrB,CAAC,AAED,KAAK,gCAAI,CAAE,OAAO,IAAI,4BAAC,CAAC,AACtB,KAAK,CAAE,KAAK,CACZ,YAAY,CAAE,KAAK,AACrB,CAAC,AAED,MAAM,4BAAC,CAAC,AACN,WAAW,CAAE,MAAM,AACrB,CAAC;AC5SD,GAAG,eAAC,CAAC,AACH,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,GAAG,CACX,QAAQ,CAAE,OAAO,CACjB,gBAAgB,CAAE,GAAG,CAAC,GAAG,AAC3B,CAAC"
}